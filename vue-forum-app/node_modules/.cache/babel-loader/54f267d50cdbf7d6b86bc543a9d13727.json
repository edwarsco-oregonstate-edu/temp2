{"remainingRequest":"/home/scott/forumApp/vue-forum-app/node_modules/babel-loader/lib/index.js!/home/scott/forumApp/vue-forum-app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/scott/forumApp/vue-forum-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/scott/forumApp/vue-forum-app/src/components/BaseImageInput.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/scott/forumApp/vue-forum-app/src/components/BaseImageInput.vue","mtime":1596415457415},{"path":"/home/scott/forumApp/vue-forum-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/scott/forumApp/vue-forum-app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/scott/forumApp/vue-forum-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/scott/forumApp/vue-forum-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es7.promise.finally\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  props: {\n    value: {\n      type: String,\n      default: ''\n    },\n    width: {\n      type: Number,\n      default: 300\n    },\n    height: {\n      type: Number,\n      default: 300\n    },\n    crop: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data: function data() {\n    return {\n      imagePreviewData: this.value,\n      imageToCropData: null,\n      showCropperModal: false,\n      showCropper: false\n    };\n  },\n  methods: {\n    chooseImage: function chooseImage() {\n      this.$refs.fileInput.click();\n    },\n    onSelectFile: function onSelectFile() {\n      var _this = this;\n\n      var input = this.$refs.fileInput;\n      var files = input.files;\n\n      if (files && files[0]) {\n        var reader = new FileReader();\n\n        reader.onload = function (e) {\n          if (_this.crop) {\n            _this.imageToCropData = e.target.result;\n            _this.showCropperModal = true;\n          } else {\n            _this.imagePreviewData = e.target.result;\n\n            _this.$emit('input', _this.imagePreviewData);\n          }\n        };\n\n        reader.readAsDataURL(files[0]);\n      }\n    },\n    onCrop: function onCrop(imageData) {\n      this.imagePreviewData = imageData;\n      this.$emit('input', imageData);\n      this.closeCropper();\n    },\n    closeCropper: function closeCropper() {\n      this.showCropperModal = false;\n      this.showCropper = false;\n      this.$refs.fileInput.value = '';\n    }\n  }\n};",{"version":3,"sources":["BaseImageInput.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA,eAAA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA,KADA;AAMA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA,KANA;AAWA,IAAA,MAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA,KAXA;AAgBA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,OAAA,EAAA;AAFA;AAhBA,GADA;AAuBA,EAAA,IAvBA,kBAuBA;AACA,WAAA;AACA,MAAA,gBAAA,EAAA,KAAA,KADA;AAEA,MAAA,eAAA,EAAA,IAFA;AAGA,MAAA,gBAAA,EAAA,KAHA;AAIA,MAAA,WAAA,EAAA;AAJA,KAAA;AAMA,GA9BA;AAgCA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AACA,WAAA,KAAA,CAAA,SAAA,CAAA,KAAA;AACA,KAHA;AAKA,IAAA,YALA,0BAKA;AAAA;;AACA,UAAA,KAAA,GAAA,KAAA,KAAA,CAAA,SAAA;AACA,UAAA,KAAA,GAAA,KAAA,CAAA,KAAA;;AACA,UAAA,KAAA,IAAA,KAAA,CAAA,CAAA,CAAA,EAAA;AACA,YAAA,MAAA,GAAA,IAAA,UAAA,EAAA;;AACA,QAAA,MAAA,CAAA,MAAA,GAAA,UAAA,CAAA,EAAA;AACA,cAAA,KAAA,CAAA,IAAA,EAAA;AACA,YAAA,KAAA,CAAA,eAAA,GAAA,CAAA,CAAA,MAAA,CAAA,MAAA;AACA,YAAA,KAAA,CAAA,gBAAA,GAAA,IAAA;AACA,WAHA,MAGA;AACA,YAAA,KAAA,CAAA,gBAAA,GAAA,CAAA,CAAA,MAAA,CAAA,MAAA;;AACA,YAAA,KAAA,CAAA,KAAA,CAAA,OAAA,EAAA,KAAA,CAAA,gBAAA;AACA;AACA,SARA;;AASA,QAAA,MAAA,CAAA,aAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA;AACA,KArBA;AAuBA,IAAA,MAvBA,kBAuBA,SAvBA,EAuBA;AACA,WAAA,gBAAA,GAAA,SAAA;AACA,WAAA,KAAA,CAAA,OAAA,EAAA,SAAA;AACA,WAAA,YAAA;AACA,KA3BA;AA6BA,IAAA,YA7BA,0BA6BA;AACA,WAAA,gBAAA,GAAA,KAAA;AACA,WAAA,WAAA,GAAA,KAAA;AACA,WAAA,KAAA,CAAA,SAAA,CAAA,KAAA,GAAA,EAAA;AACA;AAjCA;AAhCA,CAAA","sourcesContent":["<template>\n  <div class=\"base-image-input\">\n    <div\n      class=\"content\"\n      :class=\"{ 'has-image': imagePreviewData }\"\n      :style=\"{\n        'width': `${width}px`,\n        'height': `${height}px`,\n        'background-image': `url(${imagePreviewData})`\n      }\"\n      @click=\"chooseImage\"\n    >\n      <input\n        class=\"file-input\"\n        ref=\"fileInput\"\n        type=\"file\"\n        @change=\"onSelectFile\"\n      >\n      <span class=\"placeholder\">\n        <i class=\"fas fa-image placeholder-icon\"></i>\n        <span class=\"placeholder-text\">\n          {{ imagePreviewData ? 'Change Your Picture' : 'Choose Picture' }}\n        </span>\n      </span>\n    </div>\n    <base-modal\n      :show=\"showCropperModal\"\n      class=\"image-cropper-modal\"\n      :width=\"700\"\n      @close=\"closeCropper\"\n      @show-content=\"showCropper = true\"\n    >\n      <base-image-cropper\n        v-if=\"showCropper\"\n        :src=\"imageToCropData\"\n        :crop-width=\"width\"\n        :crop-height=\"height\"\n        @crop=\"onCrop\"\n      />\n    </base-modal>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    value: {\n      type: String,\n      default: ''\n    },\n\n    width: {\n      type: Number,\n      default: 300\n    },\n\n    height: {\n      type: Number,\n      default: 300\n    },\n\n    crop: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data () {\n    return {\n      imagePreviewData: this.value,\n      imageToCropData: null,\n      showCropperModal: false,\n      showCropper: false\n    }\n  },\n\n  methods: {\n    chooseImage () {\n      this.$refs.fileInput.click()\n    },\n\n    onSelectFile () {\n      const input = this.$refs.fileInput\n      const files = input.files\n      if (files && files[0]) {\n        const reader = new FileReader()\n        reader.onload = e => {\n          if (this.crop) {\n            this.imageToCropData = e.target.result\n            this.showCropperModal = true\n          } else {\n            this.imagePreviewData = e.target.result\n            this.$emit('input', this.imagePreviewData)\n          }\n        }\n        reader.readAsDataURL(files[0])\n      }\n    },\n\n    onCrop (imageData) {\n      this.imagePreviewData = imageData\n      this.$emit('input', imageData)\n      this.closeCropper()\n    },\n\n    closeCropper () {\n      this.showCropperModal = false\n      this.showCropper = false\n      this.$refs.fileInput.value = ''\n    }\n  }\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n.content\n  background-color: #9834a3\n  display: flex\n  justify-content: center\n  align-items: center\n  cursor: pointer\n  border-radius: 3px\n  background-size: cover\n  background-position: center\n  transition: 0.2s background-color ease-out\n\n.content:hover\n  background-color: #9834a3\n\n.file-input\n  display: none\n\n.placeholder\n  color: rgba(0, 0, 0, 0.3)\n  font-weight: bold\n  display: flex\n  flex-direction: column\n  justify-content: center\n  align-items: center\n  position: relative\n\n.content.has-image\n  position: relative\n\n.content.has-image:after\n  content: ''\n  position: absolute\n  z-index: 1\n  top: 0\n  left: 0\n  width: 100%\n  height: 100%\n  background: rgba(0, 0, 0, 0.3)\n  transition: 0.2s background ease-out\n\n.content.has-image:hover:after\n  background: rgba(0, 0, 0, 0.2)\n\n.content.has-image .placeholder\n  color: rgba(255, 255, 255, 0.7)\n  z-index: 2\n\n.placeholder-text\n  font-size: 20px\n  margin-top: 10px\n\n.placeholder-icon\n  font-size: 40px\n\n.base-image-cropper\n  width: 100%\n  height: 100%\n</style>\n\n<style lang=\"stylus\">\n.image-cropper-modal .modal-container\n  max-height: 700px\n  height: calc(100% - 100px)\n</style>\n"],"sourceRoot":"src/components"}]}