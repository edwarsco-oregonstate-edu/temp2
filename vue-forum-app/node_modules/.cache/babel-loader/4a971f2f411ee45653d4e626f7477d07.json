{"remainingRequest":"/home/scott/forumApp/vue-forum-app/node_modules/babel-loader/lib/index.js!/home/scott/forumApp/vue-forum-app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/scott/forumApp/vue-forum-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/scott/forumApp/vue-forum-app/src/components/BaseDropdownContent.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/scott/forumApp/vue-forum-app/src/components/BaseDropdownContent.vue","mtime":1596398635581},{"path":"/home/scott/forumApp/vue-forum-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/scott/forumApp/vue-forum-app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/scott/forumApp/vue-forum-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/scott/forumApp/vue-forum-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _toConsumableArray from \"/home/scott/forumApp/vue-forum-app/node_modules/@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es6.regexp.constructor\";\nimport \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  props: {\n    show: {\n      type: Boolean,\n      default: false\n    },\n    options: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    status: {\n      type: String,\n      default: 'displayOptions'\n    },\n    selected: {\n      type: [String, Number],\n      default: ''\n    },\n    showSelectedFirst: {\n      type: Boolean,\n      default: false\n    },\n    yDirection: {\n      type: String,\n      default: 'below'\n    },\n    xDirection: {\n      type: String,\n      default: 'right'\n    },\n    searchValue: {\n      type: String,\n      default: ''\n    },\n    maxHeight: {\n      type: Number,\n      default: 200\n    }\n  },\n  data: function data() {\n    return {\n      highlightedIndex: -1\n    };\n  },\n  computed: {\n    orderedOptions: function orderedOptions() {\n      var _this = this;\n\n      var filteredOptions = this.options.filter(function (_ref) {\n        var title = _ref.title;\n        return new RegExp(_this.searchValue).test(title);\n      });\n\n      if (this.showSelectedFirst && this.selected) {\n        var orderedOptions = filteredOptions.filter(function (option) {\n          return option.key !== _this.selected;\n        });\n        var selectedOption = filteredOptions.find(function (option) {\n          return option.key === _this.selected;\n        });\n        return this.yDirection === 'below' ? [selectedOption].concat(_toConsumableArray(orderedOptions)) : [].concat(_toConsumableArray(orderedOptions), [selectedOption]);\n      }\n\n      return filteredOptions;\n    }\n  },\n  mounted: function mounted() {\n    document.body.addEventListener('keydown', this.onKeyDown);\n  },\n  beforeDestroy: function beforeDestroy() {\n    document.body.removeEventListener('keydown', this.onKeyDown);\n  },\n  watch: {\n    show: function show() {\n      this.highlightedIndex = -1;\n    }\n  },\n  methods: {\n    onKeyDown: function onKeyDown(e) {\n      if (!this.show) {\n        return;\n      }\n\n      if (e.keyCode === 40 || e.keyCode === 38 || e.keyCode === 13) {\n        e.preventDefault();\n      }\n\n      if (e.keyCode === 40) {\n        this.moveDown();\n      } else if (e.keyCode === 38) {\n        this.moveUp();\n      } else if (e.keyCode === 13) {\n        this.onSelect();\n      }\n    },\n    onSelect: function onSelect() {\n      var _this2 = this;\n\n      var option = this.orderedOptions.find(function (option, index) {\n        return index === _this2.highlightedIndex;\n      });\n\n      if (option) {\n        this.$emit('select', option.key);\n      }\n    },\n    moveDown: function moveDown() {\n      var _this3 = this;\n\n      this.highlightedIndex = (this.highlightedIndex + 1) % this.orderedOptions.length;\n      this.$nextTick(function () {\n        if (_this3.highlightedIndex === 0) {\n          _this3.$refs.options.scrollTo(0, 0);\n\n          return;\n        }\n\n        var highlightedEl = _this3.$el.querySelector('.highlighted');\n\n        var highlightedElBottom = highlightedEl.getBoundingClientRect().bottom;\n\n        var optionsElBottom = _this3.$refs.options.getBoundingClientRect().bottom;\n\n        if (highlightedElBottom > optionsElBottom) {\n          _this3.$refs.options.scrollTo(0, highlightedElBottom - optionsElBottom + _this3.$refs.options.scrollTop);\n        }\n      });\n    },\n    moveUp: function moveUp() {\n      var _this4 = this;\n\n      this.highlightedIndex = this.highlightedIndex - 1 < 0 ? this.orderedOptions.length - 1 : this.highlightedIndex - 1;\n      this.$nextTick(function () {\n        var optionsElRect = _this4.$refs.options.getBoundingClientRect();\n\n        if (_this4.highlightedIndex === _this4.orderedOptions.length - 1) {\n          _this4.$refs.options.scrollTo(0, _this4.$refs.options.scrollHeight);\n\n          return;\n        }\n\n        var highlightedEl = _this4.$el.querySelector('.highlighted');\n\n        var highlightedElTop = highlightedEl.getBoundingClientRect().top;\n\n        if (highlightedElTop < optionsElRect.top) {\n          _this4.$refs.options.scrollTo(0, _this4.$refs.options.scrollTop - (optionsElRect.top - highlightedElTop));\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["BaseDropdownContent.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <transition name=\"fade-up\">\n    <div\n      v-show=\"show\"\n      class=\"base-dropdown-content\"\n      :class=\"[xDirection, yDirection]\"\n    >\n      <div\n        v-if=\"status === 'loading'\"\n        class=\"loading\"\n      >\n        Fetching results\n      </div>\n      <div\n        v-else-if=\"status === 'empty'\"\n        class=\"empty\"\n      >\n        No results found\n      </div>\n      <ul\n        v-else-if=\"status === 'displayOptions'\"\n        class=\"options\"\n        ref=\"options\"\n        :style=\"{\n          'max-height': `${maxHeight}px`\n        }\"\n      >\n        <li\n          v-for=\"(option, index) in orderedOptions\"\n          :key=\"option.key\"\n          class=\"option\"\n          :class=\"{\n            'selected': option.key === selected,\n            'highlighted': index === highlightedIndex\n          }\"\n          @mouseenter=\"highlightedIndex = index\"\n          @click=\"onSelect\"\n        >\n          <slot :option=\"option\">\n            {{ option.title }}\n          </slot>\n        </li>\n      </ul>\n    </div>\n  </transition>\n</template>\n\n<script>\nexport default {\n  props: {\n    show: {\n      type: Boolean,\n      default: false\n    },\n\n    options: {\n      type: Array,\n      default: () => ([])\n    },\n\n    status: {\n      type: String,\n      default: 'displayOptions'\n    },\n\n    selected: {\n      type: [String, Number],\n      default: ''\n    },\n\n    showSelectedFirst: {\n      type: Boolean,\n      default: false\n    },\n\n    yDirection: {\n      type: String,\n      default: 'below'\n    },\n\n    xDirection: {\n      type: String,\n      default: 'right'\n    },\n\n    searchValue: {\n      type: String,\n      default: ''\n    },\n\n    maxHeight: {\n      type: Number,\n      default: 200\n    }\n  },\n\n  data () {\n    return {\n      highlightedIndex: -1\n    }\n  },\n\n  computed: {\n    orderedOptions () {\n      const filteredOptions = this.options.filter(({ title }) => (new RegExp(this.searchValue)).test(title))\n      if (this.showSelectedFirst && this.selected) {\n        let orderedOptions = filteredOptions.filter(option => option.key !== this.selected)\n        const selectedOption = filteredOptions.find(option => option.key === this.selected)\n        return this.yDirection === 'below'\n          ? [selectedOption, ...orderedOptions]\n          : [...orderedOptions, selectedOption]\n      }\n      return filteredOptions\n    }\n  },\n\n  mounted () {\n    document.body.addEventListener('keydown', this.onKeyDown)\n  },\n\n  beforeDestroy () {\n    document.body.removeEventListener('keydown', this.onKeyDown)\n  },\n\n  watch: {\n    show () {\n      this.highlightedIndex = -1\n    }\n  },\n\n  methods: {\n    onKeyDown (e) {\n      if (!this.show) {\n        return\n      }\n      if (e.keyCode === 40 || e.keyCode === 38 || e.keyCode === 13) {\n        e.preventDefault()\n      }\n      if (e.keyCode === 40) {\n        this.moveDown()\n      } else if (e.keyCode === 38) {\n        this.moveUp()\n      } else if (e.keyCode === 13) {\n        this.onSelect()\n      }\n    },\n\n    onSelect () {\n      const option = this.orderedOptions.find(\n        (option, index) => index === this.highlightedIndex\n      )\n      if (option) {\n        this.$emit('select', option.key)\n      }\n    },\n\n    moveDown () {\n      this.highlightedIndex = (this.highlightedIndex + 1) % this.orderedOptions.length\n      this.$nextTick(() => {\n        if (this.highlightedIndex === 0) {\n          this.$refs.options.scrollTo(0, 0)\n          return\n        }\n        const highlightedEl = this.$el.querySelector('.highlighted')\n        const highlightedElBottom = highlightedEl.getBoundingClientRect().bottom\n        const optionsElBottom = this.$refs.options.getBoundingClientRect().bottom\n        if (highlightedElBottom > optionsElBottom) {\n          this.$refs.options.scrollTo(0, (highlightedElBottom - optionsElBottom) + this.$refs.options.scrollTop)\n        }\n      })\n    },\n\n    moveUp () {\n      this.highlightedIndex = (this.highlightedIndex - 1) < 0\n        ? this.orderedOptions.length - 1\n        : this.highlightedIndex - 1\n      this.$nextTick(() => {\n        const optionsElRect = this.$refs.options.getBoundingClientRect()\n        if (this.highlightedIndex === this.orderedOptions.length - 1) {\n          this.$refs.options.scrollTo(0, this.$refs.options.scrollHeight)\n          return\n        }\n        const highlightedEl = this.$el.querySelector('.highlighted')\n        const highlightedElTop = highlightedEl.getBoundingClientRect().top\n        if (highlightedElTop < optionsElRect.top) {\n          this.$refs.options.scrollTo(0, this.$refs.options.scrollTop - (optionsElRect.top - highlightedElTop))\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n.base-dropdown-content\n  position: absolute\n  width: 100%\n  min-width: max-content\n  z-index: 99999\n  background: #FFF\n  box-shadow: 0 1px 5px rgba(0,0,0,.2), 0 2px 2px rgba(0,0,0,.14), 0 3px 1px -2px rgba(0,0,0,.12)\n  border-radius: 0 0 2px 2px\n\n.base-dropdown-content.below\n  top: 0\n\n.base-dropdown-content.above\n  bottom: 0\n\n.base-dropdown-content.right\n  left: 0\n\n.base-dropdown-content.left\n  right: 0\n\n.options\n  list-style: none\n  padding: 0\n  margin: 0\n  overflow: auto\n\n.option\n  padding: 15px\n  font-size: 14px\n  color: #444\n  cursor: pointer\n  transition: 0.2s background ease-out\n\n.option.selected\n  color: $primaryColor\n\n.option.highlighted\n  background: #F2F2F2\n\n.option + .option\n  border-top: 1px solid #F0F0F0\n\n.loading\n  padding: 20px\n  display: flex\n  justify-content: center\n  align-items: center\n\n.empty\n  padding: 20px\n  display: flex\n  justify-content: center\n  align-items: center\n\n.fade-up-enter-active,\n.fade-up-leave-active\n  transition: all 0.3s ease\n\n.fade-up-enter,\n.fade-up-leave-to\n  opacity: 0\n  transform: translate3d(0, 5%, 0)\n</style>\n"],"sourceRoot":"src/components"}]}