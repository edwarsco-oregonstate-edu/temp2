{"remainingRequest":"/home/scott/forumApp/vue-forum-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/scott/forumApp/vue-forum-app/src/views/Topic.vue?vue&type=style&index=0&id=6a9c63e5&lang=stylus&scoped=true&","dependencies":[{"path":"/home/scott/forumApp/vue-forum-app/src/views/Topic.vue","mtime":1596915819051},{"path":"/home/scott/forumApp/vue-forum-app/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/home/scott/forumApp/vue-forum-app/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/scott/forumApp/vue-forum-app/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/scott/forumApp/vue-forum-app/node_modules/stylus-loader/index.js","mtime":1519606876000},{"path":"/home/scott/forumApp/vue-forum-app/node_modules/style-resources-loader/lib/index.js","mtime":499162500000},{"path":"/home/scott/forumApp/vue-forum-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/scott/forumApp/vue-forum-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.topic-page\n  width: 90%\n  margin: 30px auto\n",{"version":3,"sources":["Topic.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqFA;AACA;AACA","file":"Topic.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"app-page topic-page\">\n    <base-spinner\n      v-if=\"loading\"\n      class=\"page-spinner\"\n    />\n    <template v-else>\n      <topic-view\n        :topic=\"topic\"\n        @delete=\"onDeleteTopic\"\n        @reply=\"jumpToReplyForm\"\n      />\n      <reply-form\n        v-if=\"isLoggedIn\"\n        ref=\"replyForm\"\n      />\n    </template>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapActions } from 'vuex'\n\nimport TopicView from '@/components/TopicView'\nimport ReplyForm from '@/components/ReplyForm'\n\nexport default {\n  components: {\n    TopicView,\n    ReplyForm\n  },\n\n  data () {\n    return {\n      loading: false\n    }\n  },\n\n  computed: {\n    ...mapState({\n      topic: state => state.topics.current\n    })\n  },\n\n  watch: {\n    '$route.params.topicId': {\n      immediate: true,\n      async handler () {\n        this.loading = true\n        try {\n          await this.loadCurrentTopic({ topicId: this.$route.params.topicId })\n        } catch (err) {\n          this.$router.push({ name: 'Home' })\n        }\n        this.loading = false\n      }\n    }\n  },\n\n  methods: {\n    ...mapActions([\n      'loadCurrentTopic',\n      'deleteTopic'\n    ]),\n\n    async onDeleteTopic () {\n      this.loading = true\n      await this.deleteTopic({ topicId: this.topic._id })\n      this.$router.push({\n        name: 'Category',\n        params: { categorySlug: this.topic.category.slug }\n      })\n    },\n\n    jumpToReplyForm () {\n      if (this.$refs.replyForm) {\n        this.$refs.replyForm.$el.scrollIntoView()\n        this.$refs.replyForm.focus()\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n.topic-page\n  width: 90%\n  margin: 30px auto\n</style>\n"]}]}